\documentclass[10pt]{beamer}
\input{lecture_preamble.tex}

\title{Натуральная дедукция (естественный вывод)}
\date{\today}

\begin{document}
\begin{frame}[plain]
    \maketitle
\end{frame}

\begin{frame}
    \frametitle{Правила натуральной дедукции}
    \scriptsize
    \begin{itemize}
        \item Для $\land$:
        \[ 
        \frac{A \qquad B}{A \wedge B}\ \wedge I 
        \qquad \qquad 
        \frac{A \wedge B}{A}\ \wedge{E}
        \qquad
        \frac{A \wedge B}{B}\ \wedge{E} 
        \]
        \item Для $\to$:
        \[ 
        \frac{\begin{matrix}
                A \\
                \rvdots \\
                B
        \end{matrix}}{A \to B}\ \to I 
        \qquad \qquad 
        \frac{A \to B \quad A}{B}\ \to E
        \]
        \item Для $\neg$ и $\bot$:
        \[
        \frac{\begin{matrix}
                A \\
                \rvdots \\
                \bot
        \end{matrix}}{\neg A}\ \neg I 
        \qquad \qquad 
        \frac{\neg A \quad A}{\bot}\ \neg E/\bot I
        \qquad \qquad 
        \frac{\bot}{A}\ \bot{E}
        \]
        \item Для $\lor$:
        \[
        \frac{A}{A \lor B}\ \lor{I}
        \qquad
        \frac{B}{A \lor B}\ \lor{I}
        \qquad \qquad 
        \frac{
        \begin{matrix}
            \phantom{A} \\
            \phantom{\rvdots} \\
            A \lor B 
        \end{matrix}
        \quad
        \begin{matrix}
            A \\
            \rvdots \\
            C
        \end{matrix}
        \quad
        \begin{matrix}
            B \\
            \rvdots \\
            C
        \end{matrix}
        }{C}\ \lor E
        \qquad \qquad         
        \frac{\begin{matrix}
            \neg A \\
            \rvdots \\
            B
\end{matrix}}{A \lor B}\ \lor I'
        \qquad 
\frac{\begin{matrix}
        \neg B \\
        \rvdots \\
        A
\end{matrix}}{A \lor B}\ \lor I'
        \]
        \item Остальные:
        \[
        \frac{\begin{matrix}
                \neg A \\
                \rvdots \\
                \bot
        \end{matrix}}{A}\ RAA
        \qquad \qquad 
        \frac{A}{A}\ R
        \]
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Правила натуральной дедукции для кванторов}
    \begin{itemize}
        \item Для $\forall$:
        \[ 
        \frac{\begin{matrix}
                \rvdots \\
                A(a)
        \end{matrix}}{\forall x ~ A(x)}\ \forall I 
        \qquad \qquad 
        \frac{\forall x ~ A(x)}{A(t)}\ \forall E
        \]
        \item Для $\exists$:
        \[
        \frac{A(t)}{\exists x ~ A(x)}\ \exists I
        \qquad \qquad 
        \frac{
            \begin{matrix}
                \phantom{A} \\
                \phantom{\rvdots} \\
                \exists x ~ A(x)
            \end{matrix}
            \quad
            \begin{matrix}
                A(a) \\
                \rvdots \\
                B
            \end{matrix}
        }{B}\ \exists E
        \]
        \item $t$ в $\forall E$ и $\exists I$ "--- произвольный терм (в наших примерах всегда просто параметр). Они соответствуют типу $\gamma$ в деревьях истинности.
        \item $a$ в $\forall I$ и $\exists E$ "--- новый параметр, которого нет в уже построенной части доказательства. Они соответствуют типу $\delta$.
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Пример}
    \begin{align*}
    \forall x (P(x) \rightarrow Q(x)) \vdash \exists x P(x) \rightarrow \exists x Q(x) \\
    \vspace{1em}
    \only<1>{
    \begin{nd}
        \hypo{1}{\forall x (P(x) \rightarrow Q(x))}  \by{\text{Дано}}{}
        \have[\vdots]{4}{\vdots}
        \have[][2]{2}{\exists x P(x) \rightarrow \exists x Q(x)}
    \end{nd}
    }
    \only<2>{
    \begin{nd}
        \hypo{1}{\forall x (P(x) \rightarrow Q(x))}  \by{\text{Дано}}{}
        \open
        \hypo[][3]{3}{\exists x P(x)} \by{\text{Дано}}{}
        \have[\vdots]{7}{\vdots}
        \have[][4]{4}{\exists x Q(x)} 
        \close
        \have[][2]{2}{\exists x P(x) \rightarrow \exists x Q(x)} \ii{3-4}
    \end{nd}
    }
    \only<3>{
    \begin{nd}
        \hypo{1}{\forall x (P(x) \rightarrow Q(x))}  \by{\text{Дано}}{}
        \open
        \hypo[][3]{3}{\exists x P(x)} \by{\text{Дано}}{}
        \open[a]
        \hypo[][5]{5}{P(a)} \by{\text{Дано}}{}
        \have[\vdots]{7}{\vdots}
        \have[][6]{6}{\exists x Q(x)}
        \close
        \have[][4]{4}{\exists x Q(x)} \Ee{3,5-6}
        \close
        \have[][2]{2}{\exists x P(x) \rightarrow \exists x Q(x)} \ii{3-4}
    \end{nd}
}
    \only<4->{
    \begin{nd}
        \hypo{1}{\forall x (P(x) \rightarrow Q(x))}  \by{\text{Дано}}{}
        \open
        \hypo[][3]{3}{\exists x P(x)} \by{\text{Дано}}{}
        \open[a]
        \hypo[][5]{5}{P(a)} \by{\text{Дано}}{}
        \have[][7]{7}{P(a) \rightarrow Q(a)} \Ae{1}
        \have{8}{Q(a)} \ie{5,7}
        \have[][6]{6}{\exists x Q(x)} \Ei{8}
        \close
        \have[][4]{4}{\exists x Q(x)} \Ee{3,5-6}
        \close
        \have[][2]{2}{\exists x P(x) \rightarrow \exists x Q(x)} \ii{3-4}
    \end{nd}
    }
    \end{align*}
\end{frame}

\begin{frame}
    \frametitle{Пример 2}
    \begin{align*}
    \forall y \neg P(y) \vdash \neg \exists x P(x) \\
    \vspace{1em}
    \begin{nd}
        \hypo {1} {\forall y \neg P(y)}
        \open
        \hypo[][3] {2} {\exists x P(x)}
        \open[a]
        \hypo[][5] {3} {P(a)}
        \have {5} {\neg P(a)}            \Ae{1}
        \have {6} {\bot}                 \ne{3,5}
        \close
        \have[][4] {6a}{\bot}                 \Ee{2,3-6}
        \close
        \have[][2]{7} {\neg \exists x P(x)}  \ni{2-6a}
    \end{nd}
    \end{align*}
\end{frame}

\end{document}