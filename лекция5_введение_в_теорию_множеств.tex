\documentclass[10pt]{beamer}
\input{lecture_preamble.tex}

\title{Теория множеств\\Введение}
\date{\today}

\begin{document}
\begin{frame}[plain]
\maketitle
\end{frame}

\begin{frame}
    \frametitle{Понятие множества}
    \begin{itemize}
        \item Множество "--- это набор (или совокупность) элементов, который рассматривается как единый объект.
        \item \enquote{$a$ "--- элемент $A$} записывается как $a \in A$.
        \item $A$ "--- подмножество $B$ ($A \subseteq B$), если \pause $\forall x ~ (x \in A \to x \in B)$.
        \item $A = B$, если \pause $\forall x ~ (x \in A \leftrightarrow x \in B)$ (или $A \subseteq B \land B \subseteq A$).
        \item Элементом множества может быть другое множество.
        \item Не обязательно все элементы множества имеют один \enquote{тип}, т.е. все они числа, или множества, или отрезки$\ldots$
        \item Очень часто говорят о множествах с какой-то дополнительной структурой.
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Задание множеств}
    \begin{itemize}
        \item Стандартный способ задать множество это указать какое-то условие, которое выполняется для всех его элементов и не выполняется для не-элементов. Обозначается $\{x \mid A(x)\}$. Тогда $\forall x ~ (x \in \{x \mid A(x)\} \leftrightarrow \pause A(x))$.
        \item $x$ в $\{x \mid \ldots\}$ "--- связанная переменная.
        \item Задание перечислением: $\{a_1,\ldots,a_n\} = \{x \mid \pause x = a_1 \lor \ldots \lor x = a_n \}$.
        \item Пустое множество: $\varnothing = \{x \mid \pause x \neq x\}$.
        \item Часто значения $x$ берутся из какого-то множества $X$: $\{x : X \mid A(x)\} = \{x \mid x \in X \land A(x)\}$ (или $\{x \in X \mid A(x)\}$).
        \item Слева может быть не переменная, а выражение: $\{ f(x) \mid x : X\}$.
        \item $:$ вместо $\in$ позволяет отличить $\{x : \N \mid x \in \mathbb{R}\}$ от $\{x \in \N \mid x : \mathbb{R}\}$.
        \item Одно множество может быть задано несколькими разными свойствами\pause, если они эквивалентны.
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Операции над множествами}
    \begin{itemize}
        \item Объединение: $A \cup B = \{x \mid \pause x \in A \lor x \in B\}$
        \item Пересечение: $A \cap B = \{x \mid \pause x \in A \land x \in B\} = \{x : A \mid x \in B\}$
        \item Множество всех подмножеств: $\mathcal{P}(A) = \{ B \mid B \subseteq A \}$ (также обозначается $2^A$).
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Наивная теория множеств и парадокс Рассела}
    \begin{itemize}
        \item Для любого ли свойства есть множество всех объектов, обладающих этим свойством?
        \item \emph{Наивная теория множеств} считала, что да.
        \item Тогда рассмотрим множество всех множеств, не являющихся элементами самих себя: $R = \{X \mid X \notin X\}$.
        \item Вопрос: является ли $R$ элементом самого себя?
        \pause
        \item $R \in R \leftrightarrow R \in \{X \mid X \notin X\} \leftrightarrow \pause R \notin R$.
        \item Пришли к противоречию!
        \pause
        \item Надо как-то ограничить то, какие свойства задают множества.
        \item Это делается заданием некоторого набора аксиом, позволяющих строить множества постепенно, исходя из уже построенных.
        \item Конкретных \emph{аксиоматических теорий множеств} довольно много, самая стандартная \emph{теория Цермело-Френкеля} ($ZFC$ или $ZF$). 
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Упорядоченные пары и кортежи}
    \begin{itemize}
        \item \emph{Упорядоченная пара} это способ по любым двум объектам $a$ и $b$ построить такой $(a,b)$, что \pause
        $$(a,b) = (c,d) \leftrightarrow a = c \land b = d$$
        \item Это понятие обобщается на упорядоченные тройки, четвёрки и т.д. Общее название "--- \emph{кортеж}.
        \item Если есть пары, то можно задать и тройки: $(a_1, a_2, a_3) = \pause (a_1, (a_2, a_3))$ и так далее.
        \item Можно определить пары как множества. Например, определение Куратовского: $$(a, b) = \{\{a\}, \{a, b\}\}$$
        \item Упражнение: доказать основное свойство пар для этого определения.
        \item Декартово произведение: $$A_1 \times \ldots \times A_n = \pause \{(a_1, \ldots, a_n) \mid a_1 : A_1, \ldots, a_n : A_n\}$$
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Функции}
    \begin{itemize}
        \item \emph{Функция} (или \emph{отображение}) из множества $A$ в множество $B$ сопоставляет каждому элементу $A$ ровно один элемент из $B$:
        $$\forall x : A ~ \exists ! y : B ~ y=f(x)$$
        \pause
        \vspace{-2ex}
        \item Если значение функции $f$ на аргументе $x$ задаётся выражением $expr$, пишем $f(x) = expr$ или $f = x \mapsto expr$. 
        \item \emph{Лямбда-выражение} $x \mapsto expr$ удобно использовать как часть более сложных выражений.
        \pause
        \item \emph{График функции} это множество пар $\{(x, f(x)) \mid x : A\}$. В теории множеств функцию отождествляют с её графиком (или с тройкой $(A,B,$\,график$)$).
        \item Можно ли определить $A$ и $B$ по графику? \pause $A$ да, $B$ нет.
        \pause
        Множество всех функций из $A$ в $B$ обозначается $A \to B$ или $B^A$. Формально:
        $$A \to B = \{F \mid F \subseteq A \times B, ~ \forall x : A ~ \exists ! y : B ~ (x,y) \in F\}$$
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Образы, прообразы}
    \begin{itemize}
        \item Если $f(x) = y$, также говорят, что $y$ "--- \emph{образ $x$}, а $x$ "--- \emph{прообраз $y$} (возможно, один из прообразов). Это продолжается на подмножества областей определения и значений: 
        \item Если $C \subseteq A$, то \emph{образ $C$} это $f[C] = \pause \{f(x) \mid x : C\}$.
        \pause
        \item Если $C \subseteq B$, то \emph{прообраз $C$} это $f^{-1}[C] = \pause \{x : A \mid f(x) \in C\}$.
        \item Часто пишут круглые скобки вместо квадратных, но как раз в теории множеств вполне бывает, что $C \subseteq A$ и $C \in A$ одновременно.
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Вложения, наложения и биекции}
    \begin{itemize}
        \item Функция $f: A \to B$ называется \emph{вложением} или \emph{инъекцией}, если $\forall x,y:A~x \neq y \to f(x) \neq f(y)$. То есть каждое значение в $B$ имеет не более одного прообраза. Заметьте, что это не зависит от $B$.
        \item $f: A \to B$ называется \emph{наложением} или \emph{сюръекцией}, если $\forall y:B~ \exists x:A ~ y=f(x)$. То есть каждое значение в $B$ имеет хотя бы один прообраз. Эквивалентно, $f[A] = B$.
        \item $f: A \to B$ называется \emph{взаимно однозначной} или \emph{биекцией}, если она одновременно вложение $A$ в $B$ и наложение $A$ на $B$: $\forall y:B~ \exists ! x:A ~ y=f(x)$. Соответственно, каждое значение в $B$ имеет ровно один прообраз.
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Мощность множеств}
    \begin{itemize}
        \item Вы уже знакомы с понятием мощности конечных множеств: $|A|$ "--- количество элементов в $A$.
        \item Пусть $A$ и $B$ конечны. В каком случае существует вложение $A$ в $B$ (обозначаем $A \lesssim B$ и говорим \emph{$A$ вкладывается в $B$})? \pause Когда $|A| \leq |B|$.
        \pause
        \item А наложение (обозначим $A \gtrsim B$)? Биекция ($A \sim B$)? \pause Когда $|A| \geq |B|$ и \pause когда $|A| = |B|$ cоответственно.
        \pause
        \item В логике это берётся как определение мощности.
        \item То есть пока что мощности (кроме натуральных чисел) это какие-то абстрактные объекты, которые можно только сравнивать.
        \item Позже мы увидим, как мощности представить как множества.
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Свойства отношений мощности}
    \begin{itemize}
        \item Верно ли, что $\lesssim$ рефлексивно, то есть \pause $\forall A~A \lesssim A$? \pause Да. $id_A = x \mapsto x$ будет вложением $A$ в $A$.
        \item Транзитивно ли? Пусть $f: A \to B$ и $g: B \to C$ вложения. Можно ли найти вложение $A \to C$? \pause Да, это композиция $g \circ f = x \mapsto \pause g(f(x))$. Конечно, нужно ещё доказать, что это вложение.
        \item Симметрично ли? \pause Нет!
        \item Антисимметрично ли? \pause Тоже нет! Может быть $A \lesssim B \land B \lesssim A \land A \neq B$. Когда (хотя бы для конечных множеств)? \pause Если $|A| = |B|$.
        \item Окажется, что не только для конечных: $A \lesssim B \land B \lesssim A \Rightarrow A \sim B$. Это нетривиальная теорема Кантора-Бернштейна, сейчас без доказательства.
        \item Тоже нетривиально, но можно доказать: $A \lesssim B \Leftrightarrow B \gtrsim A$ и $A \lesssim B \lor B \lesssim A$.
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Свойства отношений мощности}
    \begin{itemize}
        \item А как насчёт $\sim$? Оно тоже рефлексивно: $id_A$ не только вложение, но и \pause биекция.
        \pause
        \item Транзитивно, потому что \pause композиция биекций окажется биекцией.
        \pause
        \item И симметрично: у любой биекции есть \pause обратная функция, которая тоже окажется биекцией.
        \pause
        \item То есть это отношение \pause эквивалентности.
        \item А $\lesssim$ "--- отношение порядка \enquote{с точностью до $\sim$}.
        \pause
        \item Мы можем сказать, что $|A|$ это класс эквивалентности $A$ по отношению $\sim$.
        \item В силу этих свойств $=$ и $\leq$ на мощностях ведут себя как обычно.
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Конечные множества}
    \begin{itemize}
        \item Множество $A$ называется \emph{конечным}, если $\exists n \in \N~A \sim \{0,\dots,n-1\}$.
        \item Соответственно, любое другое множество \emph{бесконечно}.
        \item Это не единственный способ определить конечные и бесконечные подмножества.
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Счётные множества}
    \begin{itemize}
        \item Множество $A$ называется \emph{счётным}, если $A \sim \N$.
        \item Другими словами, все элементы счётного множества можно перенумеровать.
        \item $|\N|$ имеет своё обозначение: $\aleph_0$ (читается \emph{алеф-ноль} или \emph{нуль}).
        \item Другие счётные множества (докажем на доске): множество чётных чисел, $\mathbb{Z}, \N \times \N$.
        \pause
        \item То есть хотя интуитивно множество целых чисел должно быть больше, чем натуральных, в этом смысле их \enquote{одинаковое количество}.
        \pause
        \item $\aleph_0$ это минимальная бесконечная мощность, то есть любое бесконечное подмножество счётного множества счётно (или вложимое в счётное множество).
        \pause
        \item Всякое бесконечное множество содержит счётное подмножество.
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Теорема Кантора}
    \begin{itemize}
        \item А есть ли какие-то бесконечные мощности, кроме $\aleph_0$?
        \pause
        \item Окажется, что для любого $A$ $|A \to \{0,1\}| > |A|$, т.е. $(A \lesssim A \to \{0,1\}) \land (A \nsim A \to \{0,1\})$.
        \item Это называется теоремой Кантора.
        \pause
        \item В том числе $|\N \to \{0,1\}| > |\N|$. То есть множество всех функций из натуральных чисел в $\{0,1\}$ несчётно.
        \item Удобнее сначала увидеть доказательство этого частного случая, а потом общего.
        \pause
        \item 1. $A \lesssim A \to \{0,1\}$. Как построить такое вложение?
        \item 2. Предположим, что $f: A \to (A \to \{0,1\})$ наложение. Тогда определим $g: A \to \{0,1\}$ так: $g(x) = 1 - f(x)(x)$.
        \item Поскольку дано, что $f$ наложение, то $\exists y \in A~g = f(y)$. Но тогда \pause $g(y) = 1 - f(y)(y) \neq f(y)(y) = g(y)$. Противоречие!
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Парадокс Кантора}
    \begin{itemize}
        \item Из теоремы Кантора можно заключить, что не существует множества всех множеств. Почему?
        \pause
        \item Допустим, что оно существует, и обозначим его $U$.
        \item Можно показать, что $\pow{A} \sim A \to \{0,1\}$, поэтому $|\pow{A}| > |A|$ для любого множества.
        \item В том числе $|\pow{U}| > |U|$. Но элементы $|\pow{U}|$ "--- множества, поэтому \pause $\pow{U} \subseteq U$ и \pause $|\pow{U}| \leq |U|$.
        \item Пришли к противоречию!
        \pause
        \item Заметьте, что функции у нас тоже множества, так что переходить к $\mathcal{P}$ было не обязательно.
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Понятие класса}
    \begin{itemize}
        \item Чтобы всё-таки иметь возможность говорить о всех множествах вместе, вводится понятие \emph{класса}.
        \item Это любая совокупность множеств, которые имеют какое-то свойство.
        \item Некоторые классы являются множествами, некоторые нет. 
        \item Вторые называются \emph{собственными классами} и не могут быть элементами классов или множеств.
        \item Ещё один пример собственного класса "--- все одноэлементные множества. Почему?
        \pause
        \item Нетрудно построить биекцию между ними и классом всех множеств.
        \pause
        \item Окажется, что любой несобственный класс \enquote{того же размера}.
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Операции над мощностью}
    \begin{itemize}
        \item Как можно определить операции над мощностями множеств по аналогии с конечными множествами?
        \item $|A| + |B| = \pause |A \cup B|$, где $A \cap B = \varnothing$. \pause
        \item $|A| \cdot |B| = \pause |A \times B|$. \pause
        \item $|A|^{|B|} = \pause |B \to A|$.
        \item В частности, $2^{|A|} = \pause |A \to \{0,1\}| = |\pow{A}|$. \pause
        \pause
        \item Важно, что при замене $A$ или $B$ на равномощное результат не меняется. Это нужно доказать (для каждого из определений).
        \item Контрпример: рассмотрим определение $|A| \oplus |B| = |A \cup B|$ (без условий). В чём проблема с ним?
        \item Имеем $\aleph_0 + \aleph_0 = \aleph_0$ и $\aleph_0 \cdot \aleph_0 = \aleph_0$.
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Мощность континуума}
    \begin{itemize}
        \item $2^{\aleph_0}$ (то есть мощность $\N \to \{0,1\}$ или $\pow{\N}$) имеет своё название \emph{мощность континуума} и обозначение $\continuum$.
        \item Ту же мощность имеют множества $\R$, $(0, 1)$, $\R^n$ и т.д.
        \item То есть $\continuum + \continuum = \continuum \cdot \continuum = \continuum$.
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Аксиоматические теории множеств}
    \begin{itemize}
        \item Как упоминалось ближе к началу лекции, современная теория множеств задаётся аксиомами в логике предикатов.
        \item Самый распространённый набор аксиом это ZFC. Его аксиомы можно найти в Википедии: \href{https://ru.wikipedia.org/wiki/Система_Цермело_—_Френкеля}{Система Цермело — Френкеля}.
        \item Также можно посмотреть \href{https://ru.wikipedia.org/wiki/Система_аксиом_фон_Неймана_—_Бернайса_—_Гёделя}{NBG (теорию фон Неймана — Бернайса — Гёделя)}.
    \end{itemize}
\end{frame}

\end{document}
