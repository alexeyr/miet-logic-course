\documentclass[10pt]{beamer}
\input{lecture_preamble.tex}

\title{Формализация утверждений в логике предикатов}
\date{\today}

\begin{document}
\begin{frame}[plain]
    \maketitle
\end{frame}

\begin{frame}
    \frametitle{Сигнатуры, термы, формулы}
    \begin{itemize}
        \item \emph{Сигнатура} $\Sigma$ "--- конечные или счётные множества константных $Const_\Sigma$, функциональных $Fun_\Sigma$ и предикатных $Pred_\Sigma$ символов. Для каждого символа из $Fun_\Sigma$ и $Pred_\Sigma$ задано число аргументов (\emph{арность}).
        \item \emph{Переменные} "--- \pause $x,\,y,\,z_3,\,\ldots$. Обозначают \pause какие-то объекты (не истину/ложь, как $p,q,r$). Множество $Var$ не зависит от сигнатуры. \pause
        \item \emph{Термы} "--- \pause $x,\,(y+2) \cdot z,\,\ldots$ Выражения, значения которых "--- объекты. Строятся из переменных и константных символов применением функциональных. Множество термов над $\Sigma$: $Term_\Sigma$. \pause
        \item \emph{Формулы} "--- \pause $x=y+1$; $\forall x ~ x \neq x^2$ \ldots Вот их значения истина и ложь. \emph{Атомарные формулы} строятся из термов применением предикатных символов, а остальные  применением связок $\land$/$\lor$/\ldots и кванторов $\forall$ и $\exists$ к формулам. Множество формул над $\Sigma$: $Form_\Sigma$.
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Формализация}
    \begin{itemize}
        \item Часто возникает задача: дано утверждение (математическое или в терминах \enquote{реального мира}), нужно записать его в виде формулы данной сигнатуры.
        \item Пример: \enquote{Кто-то любит всех на свете}. Универсум: люди, предикат $Loves(x, y)$ для \enquote{$x$ любит $y$}.
        \item Кто-то любит всех на свете $\equiv \pause \exists x $ $x$ любит всех на свете $\equiv \pause \exists x ~ \forall y $ $x$ любит $y$ $\equiv \pause \exists x ~ \forall y ~ Loves(x, y)$. \pause
        \item Ещё пример в той же сигнатуре: \enquote{Всякая любовь взаимна}.
        \item Ответ: \pause $\forall x ~ \forall y ~ (Loves(x, y) \to Loves(y,x))$ или \pause $\forall x ~ \forall y ~ (Loves(x, y) \leftrightarrow Loves(y,x))$. \pause
        \item И ещё: \enquote{Кто-то не любит никого, кто любит его}.
        \item Ответ: \pause $\exists x ~ \forall y ~ (Loves(y, x) \to \neg Loves(x,y))$.
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Ещё примеры формализации}
    \begin{itemize}
        \item \enquote{$x$ делится на $2$}. Универсум: натуральные числа.
        \item Если предположили что-то вроде $x / 2 \in \mathbb{N}$: это не подойдёт. Почему? \pause
        \item Например, $\mathbb{N}$ это не объект нашего универсума. А если $\in \mathbb{N}$ рассматривать как единый предикатный символ, он верен для всех объектов! \pause 
        \item Более того, если $/$ "--- функциональный символ, то он должен иметь значение в нашем универсуме для любых аргументов. Есть варианты логики, которые снимают это ограничение, но мы их не изучаем. \pause
        \item Ответ (возможный): \pause $\exists y ~ x = 2 \cdot y$. \pause
        \item Можно ли то же самое записать без $\cdot$? \pause Да! $\exists y ~ x = y + y$. \pause
        \item Вот \enquote{$x$ делится на $y$} без $\cdot$ записать уже не получится. \pause
        \item Задание сложнее: \enquote{$x$ "--- простое число}.
        \item Ответ (возможный): \pause $\forall y ~ \forall z ~ x = y \cdot z \to y = 1 \lor z = 1$. 
        \pause 
        \item Неправда! В чём ошибка? \pause $x \neq 1 \land \forall y ~ \forall z ~ x = y \cdot z \to y = 1 \lor z = 1$. 
    \end{itemize}
\end{frame}

 
\begin{frame}
   \frametitle{Формализация со свободными переменными}
   \begin{itemize}
       \item У нас на предыдущих слайдах появлялись утверждения с переменными (например, \enquote{$x$ любит всех на свете}) в промежуточных результатах. 
       \item Может и сразу быть дано такое утверждение. \pause
       \item В результате должна получиться формула с теми же \textbf<3->{свободными} переменными (и какими угодно связанными). \pause
       \item Если в формуле есть \enquote{лишние} свободные переменные или связана одна из тех, что есть в формализуемом утверждении, это заведомо неверный ответ.
   \end{itemize}
\end{frame}

\begin{frame}
   \frametitle{Ограниченные кванторы}
   \begin{itemize}
       \item В математических текстах мы часто видим что-то вроде $\forall x > 1 ~ x^2 > x$. Но по нашему определению это не формула! В чём дело? \pause
       \item Это сокращённая запись формулы, но какой?
       \item $\forall x ~ (x > 1 ~ ? ~ x^2 > x)$. Какую связку нужно поставить?
       \pause
       \item $\forall x ~ (x > 1 \to x^2 > x)$. 
       \pause
       \item А для случая $\exists x > 1 ~ x^2 > x$?
       \pause
       \item $\exists x ~ (x > 1 \land x^2 > x)$.
       \pause
       \item Убедитесь, что это работает, если заменить $x > 1$ и $x^2 > 1$ на любые другие \pause формулы.
   \end{itemize}
\end{frame}

\begin{frame}
   \frametitle{\only<1>{$\exists !$}\only<2->{Существование и единственность}}
   \begin{itemize}
       \item $\exists ! x ~ P(x)$ читается как \pause \enquote{Существует единственное $x$ такое, что\ldots}
       \item $P$ здесь "--- формула со свободной переменной $x$. \pause
       \item Но в нашем языке такого символа нет.
       \item Может быть, $!$ "--- предикатный символ (или функциональный, или константный)? \pause Тогда бы не получилась формула. После квантора может стоять только переменная. \pause
       \item Это сокращение, как и ограниченные кванторы. Осталось его расшифровать. \pause
       \item $\exists x ~ (P(x) ~\land~ ???)$ \pause
       \item $\exists x ~ (P(x) \land \forall y ~ (P(y) \to x = y))$ или 
       \item $(\exists x ~ P(x)) \land \forall y,z ~ (P(y) \land P(z) \to y = z)$
   \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Многосортная логика предикатов}
    \begin{itemize}
        \item Часто удобно одновременно говорить о нескольких разных типах объектов. Пример: числа, множества чисел и функции в мат. анализе. Тогда
        \item К сигнатуре добавляется набор \emph{сортов}. Каждый сорт обозначает какое-то множество объектов.
        \item У функциональных и предикатных символов кроме числа аргументов задан сорт каждого, у функциональных ещё и сорт результата. 
        \item Применение символов к аргументам не тех сортов считается бессмысленным (т.е. его результат не является термом/формулой). 
        \item Каждая переменная имеет сорт: $x:S$. Сорт термов определяется по индукции.
        \item В моделях есть носитель для каждого сорта.
        \item Многосортную логику можно свести к односортной, добавив по предикату для каждого сорта, но формулы при этом усложняются.
    \end{itemize}
\end{frame}

\end{document}
